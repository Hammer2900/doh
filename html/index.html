<!DOCTYPE html>
<!--
 * Copyright (c) 2012 Jake Willoughby
 * 
 * This file is part of DOH.
 * 
 * DOH is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * any later version.
 * 
 * DOH is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with DOH.  See gpl3.txt. If not, see <http://www.gnu.org/licenses/>.
-->
<html>
  <head>
    <script type="text/javascript" src="../javascript/third_party/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="../javascript/third_party/2.5.3-crypto-sha1-hmac-pbkdf2.js"></script>
    <script type="text/javascript" src="../javascript/third_party/2.5.3-crypto-md5.js"></script>
    <script type="text/javascript" src="../javascript/third_party/2.5.3-crypto-sha256.js"></script>
    <script type="text/javascript" src="../javascript/doh.js"></script>
    <script type="text/javascript" src="../javascript/insecure.js"></script>
    <script type="text/javascript" src="../javascript/doh_ui.js"></script>
    <script type="text/javascript" src="domain_specs.js"></script>
    <script>
      DOH_UI.init(domain_specs);
      function setPassword() {
        // Match top-level domain
        var h = $('input:radio[name=hasher]:checked').val();
        DOH_UI.setHost($("#DOHdomain").val());
        DOH_UI.setHasher(h);
        DOH_UI.setSalt($('#DOHsalt').val());
        DOH_UI.setMaster($('#DOHmaster').val());
        $("#DOHpassword").val(DOH_UI.getPassword());
      };
    </script>
  </head>
  <body>
    <table>
      <tr>
        <td> Master Password: </td>
        <td><input type="password" id="DOHmaster"/></td>
      </tr>
      <tr>
        <td>Salt:</td>
        <td><input type="text" id="DOHsalt"/> </td>
      </tr>
      <tr>
        <td>Domain:</td>
        <td><input type="text" id="DOHdomain"/></td>
      </tr>
    </table>
    <br />
    <input type="button" value="Generate password" onclick="setPassword()"/> <br />
    Generated Password: <input type="text" id="DOHpassword" style="width: 600px"/> <br />
    <br />
    <br />
    Hashing method: <br />
    <input type="radio" name="hasher" value="DOHsha1"> DOH - SHA1 (broken in firefox)<br />
    <input type="radio" name="hasher" value="DOHsha256" checked> DOH - SHA256 (broken in firefox)<br />
    <input type="radio" name="hasher" value="INSECUREmd5hash"> INSECURE - md5sum (broken in firefox)<br />
  </body>
</html>
